{% extends 'base.html' %}
{% load django_bootstrap5 %}

{% block content %}     
<div class="container mt-3">
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Booking DashBoard</h5>
            <p>Welcome, {{ request.user.username }}</p>

            {% if bookings %}
            <table class="table text-center">

                <tr>
                    <th scope="row">Name:</th>
                    <td scope="col">
                        {% if booking.first_name and booking.last_name %}
                        {{ booking.first_name }} {{ booking.last_name }}
                        {% else %}
                        Not specified
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <th scope="row">Number of Guests:</th>
                    <td scope="col">
                        {% if booking.number_of_guests %}
                        {{ booking.number_of_guests }}
                        {% else %}
                        Not specified
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <th scope="row">Date & Time:</th>
                    <td scope="col">
                        {% if booking.date and booking.time %}
                        {{ booking.date }} at {{ booking.time }}
                        {% else %}
                        Not specified
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <th scope="row">Contact Email:</th>
                    <td scope="col">
                        {% if booking.email %}
                        {{ booking.email }}
                        {% else %}
                        Not specified
                        {% endif %}
                    </td>
                </tr>
            </tbody>            
            </table>
        </div>
        </div>
        </div>
                {% for booking in bookings %}
                <a href="{% url 'bookings:edit_booking' booking_id=booking.id %}">Edit this booking</a>
                <a href="{% url 'bookings:cancel_booking' booking_id=booking.id %}">Cancel</a>

                {% endfor %}
            {% else %}
                <a href="{% url 'bookings:make_booking' %}" class="btn btn-outline-dark btn-sm">Book a table</a>
            {% endif %}
            
           
            <a href="{% url 'accounts:logout' %}" class="btn btn-outline-dark btn-sm">Logout</a>
        </div>
    </div>
</div>
{% endblock %}
